---
import Section from "./Section.astro";
import { Image } from "astro:assets";
import HeroIlust from "../../assets/pics/hero.svg";
import ArrowDown from "../ui/ArrowDown.astro";
---

<Section id="home">
    <div
        class="relative flex flex-col-reverse items-center md:flex-row"
        id="hero"
    >
        <div class="row items-center py-5 md:w-6/12 md:pb-20 md:pt-10">
            <div class="text-left space-y-3">
                <h1
                    class="text-4xl font-medium leading-none md:text-6xl text-center md:text-left"
                >
                    <!-- Navigating the <br /> digital landscape <br /> for success -->
                    Ensemble on <br />
                    <strong>compoz</strong> votre <br />
                    <span id="animated-text">application mobile</span>
                </h1>
                <p
                    class="mt-6 mb-8 text-lg font-normal leading-7 sm:mb-12 text-center md:text-left md:pr-12"
                >
                    A partir de <strong>votre besoin</strong>, je vous
                    accompagne dans l'élaboration d'une solution technique
                    <strong>compozée sur mesure</strong> grâce à mon expérience dans
                    différents domaines techniques.
                    <br />De l'application mobile au système embarqué
                    communicant en passant par l'application web, je développe
                    vos produits numériques.
                </p>
                <div
                    class="w-full justify-center md:justify-start items-center inline-flex"
                >
                    <a
                        href="/#contact"
                        class="px-8 py-5 bg-zinc-900 hover:bg-white rounded-2xl text-center text-white hover:text-black border text-xl font-normal leading-7"
                    >
                        Me contacter
                    </a>
                </div>
            </div>
        </div>
        <div class="flex items-center py-5 md:w-6/12 md:pb-20 md:pt-10">
            <Image src={HeroIlust} alt="Hero Ilustration" loading="eager" />
        </div>
    </div>
    <a href="#services">
        <ArrowDown />
    </a>
</Section>

<script>
    import gsap from "gsap";
    import { TextPlugin } from "gsap/TextPlugin";

    document.addEventListener("DOMContentLoaded", async () => {
        gsap.registerPlugin(TextPlugin);

        var tl = gsap.timeline({
            repeat: -1,
            repeatDelay: 0,
            yoyo: false,
            onComplete: function () {
                tl.restart();
            },
            defaults: {
                immediateRender: false,
            },
        });

        tl.to("#animated-text", {
            duration: 2,
            text: "appli web",
            ease: "power2.inOut",
            delay: 1,
        });
        tl.to("#animated-text", {
            duration: 2,
            text: "appli desktop",
            ease: "power2.inOut",
            delay: 1,
        });
        tl.to("#animated-text", {
            duration: 2,
            text: "appli embarquée",
            ease: "power2.inOut",
            delay: 1,
        });
        tl.to("#animated-text", {
            duration: 2,
            text: "application mobile",
            ease: "power2.inOut",
            delay: 1,
        });
    });
</script>
