---
import { Image } from "astro:assets";
import Linkedin from "../../assets/linkedin.svg";
import Logo from "../../assets/logo-alt.svg";

const logos = [
  {
    name: "LinkedIn de Paul Guirbal",
    src: Linkedin,
    link: "https://www.linkedin.com/in/paul-guirbal-4a6a978b",
  },
];

const links = [
  { name: "Accueil", href: "/#home" },
  { name: "Services", href: "/#services" },
  { name: "Projets", href: "/#cases" },
  { name: "Process", href: "/#process" },
  { name: "Contact", href: "/#contact" },
  { name: "Mentions légales", href: "/terms" },
];
---

<section class="sm:px-5">
  <div class="w-full max-w-[1240px] mx-auto">
    <div
      class="px-[15px] bg-dark text-gray pt-[55px] pb-[0px] lg:px-[60px] sm:rounded-t-[45px]"
    >
      <div>
        <div
          class="flex flex-col lg:flex-row gap-7 items-center justify-between"
        >
          <picture>
            <a href="/">
              <Image
                src={Logo}
                alt="Logo de compoz technologies — Ingénieur logiciel freelance à Toulouse"
              />
            </a>
          </picture>
          <ul class="flex flex-col sm:flex-row gap-5 flex-wrap justify-center">
            {
              links.map((link) => {
                return (
                  <li class="text-center">
                    <a
                      class="underline underline-offset-4 hover:text-green hover:no-underline transition-colors"
                      href={link.href}
                    >
                      {link.name}
                    </a>
                  </li>
                );
              })
            }
          </ul>
          <ul class="flex gap-5">
            {
              logos.map((logo) => {
                return (
                  <li>
                    <a
                      href={logo.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      aria-label={logo.name}
                    >
                      <picture>
                        <Image src={logo.src} alt={logo.name} />
                      </picture>
                    </a>
                  </li>
                );
              })
            }
          </ul>
        </div>

        <div class="flex flex-col lg:flex-row mt-[66px] mb-[51px] gap-10">
          <div
            class="flex text-center lg:text-start flex-col w-full lg:w-[30%]"
          >
            <h3 class="mb-5 text-center md:text-left text-2xl text-green">
              Contact
            </h3>
            <div class="flex flex-col justify-between gap-4">
              <span id="contact-address"></span>
              <span class="text-gray/60 text-sm">Toulouse, France</span>
            </div>
          </div>
          <div
            class="flex text-center lg:text-start flex-col w-full lg:w-[30%]"
          >
            <h3 class="mb-5 text-center md:text-left text-2xl text-green">
              Expertise
            </h3>
            <div class="flex flex-col gap-2 text-sm text-gray/80">
              <span>Applications mobiles iOS & Android</span>
              <span>Applications desktop multiplateformes</span>
              <span>Systèmes embarqués & IoT</span>
              <span>Applications web fullstack</span>
            </div>
          </div>
          <div
            class="flex text-center lg:text-start flex-col w-full lg:w-[40%]"
          >
            <h3 class="mb-5 text-center md:text-left text-2xl text-green">
              Disponibilité
            </h3>
            <p class="text-sm text-gray/80">
              Disponible pour de nouveaux projets. Contactez-moi pour discuter
              de votre besoin et obtenir un devis gratuit.
            </p>
            <a
              href="/#contact"
              class="mt-3 text-green underline underline-offset-4 hover:no-underline transition-colors text-sm"
            >
              Demander un devis &rarr;
            </a>
          </div>
        </div>
      </div>

      <div class="h-[1px] bg-gray/20 mb-5"></div>
      <div
        class="flex flex-col lg:flex-row h-20 justify-center mt-4 text-center md:justify-between md:mt-0 text-sm text-gray/50"
      >
        <span>
          &copy; {new Date().getFullYear()}
          <strong>compoz</strong> technologies — Paul Guirbal
        </span>
        <span>
          Credits (
          <a
            href="https://www.olgaskuja.design/"
            target="_blank"
            rel="noopener noreferrer"
            class="underline hover:text-gray transition-colors">Olga</a
          >,
          <a
            href="https://esteban-vasquez.netlify.app/"
            target="_blank"
            rel="noopener noreferrer"
            class="underline hover:text-gray transition-colors">Esteban</a
          >)
        </span>
      </div>
    </div>
  </div>
</section>

<script>
  const user = "&#99;&#111;&#110;&#116;&#97;&#99;&#116;";
  const domain =
    "&#99;&#111;&#109;&#112;&#111;&#122;&#46;&#116;&#101;&#99;&#104;";
  let addr = document.getElementById("contact-address");
  if (addr != null) {
    addr.innerHTML = `<a href="mailto:${user}@${domain}" class="text-gray hover:text-green transition-colors">${user}@${domain}</a>`;
  }
</script>
